<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.2. 开发板登录方法 &mdash; X3 用户手册 1.0.1 文档</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/horizon_theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/horizon.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/hobot.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="2.3. 镜像升级方法" href="Firmware_Update.html" />
    <link rel="prev" title="2.1. X3 SDB开发板说明" href="X3SDB_Setup.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> X3 用户手册
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="在文档中搜索" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../preface/index.html">1. 前言</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">2. 快速入门</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="X3SDB_Setup.html">2.1. X3 SDB开发板说明</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2.2. 开发板登录方法</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">2.2.1. 串口登录</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pc">2.2.1.1. PC安装串口驱动</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">2.2.1.2. 终端控制软件</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id4">2.2.2. 网口调试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">2.2.2.1. 网络配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">2.2.2.2. 终端软件配置</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#usb">2.2.3. USB口调试</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#adb-fastboot">2.2.3.1. 安装 adb 和 fastboot 命令</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">2.2.3.2. USB 驱动安装</a></li>
<li class="toctree-l4"><a class="reference internal" href="#adb">2.2.3.3. ADB</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fastboot">2.2.3.4. fastboot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Firmware_Update.html">2.3. 镜像升级方法</a></li>
<li class="toctree-l2"><a class="reference internal" href="Interface_User_Guide.html">2.4. 接口使用说明</a></li>
<li class="toctree-l2"><a class="reference internal" href="Toolset_On_Board.html">2.5. 调试工具说明</a></li>
<li class="toctree-l2"><a class="reference internal" href="X3SDBv3_Setup.html">2.6. X3 SDB v3 开发板接口说明</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../samples/index.html">3. Demo使用指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bsp_develop/index.html">4. BSP开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mpp_develop/index.html">5. 多媒体开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ai_toolchain_develop/index.html">6. 量化工具链开发指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pc_tools/index.html">7. PC工具使用指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQs/index.html">8. FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feedback.html">9. 建议反馈</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">X3 用户手册</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">2. </span>快速入门</a> &raquo;</li>
      <li><span class="section-number">2.2. </span>开发板登录方法</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="X3SDB_Setup.html" class="btn btn-neutral float-left" title="2.1. X3 SDB开发板说明" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Firmware_Update.html" class="btn btn-neutral float-right" title="2.3. 镜像升级方法" accesskey="n">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1><span class="section-number">2.2. </span>开发板登录方法<a class="headerlink" href="#id1" title="永久链接至标题"></a></h1>
<p>开发板默认搭载Linaro Linux系统，HDMI接口不支持图形界面显示，用户需要通过命令行方式与开发板进行交互。目前X3开发板支持串口、网口、USB三种命令行登录方式，下面将逐一介绍。需要注意，开发板根文件系统默认为只读模式，操作前需要重新挂载为读写模式，命令如下：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mount -o remount,rw /
</pre></div>
</div>
<section id="id2">
<h2><span class="section-number">2.2.1. </span>串口登录<a class="headerlink" href="#id2" title="永久链接至标题"></a></h2>
<p>串口作为开发板的基础调试接口，可应用于镜像升级、环境配置及功能调试等多个场景中。对于开发板串口和PC机的硬件连接方法，请参考2.1.3章节。</p>
<section id="pc">
<h3><span class="section-number">2.2.1.1. </span>PC安装串口驱动<a class="headerlink" href="#pc" title="永久链接至标题"></a></h3>
<p>当串口USB转接板首次插入PC时，可能需要安装设备驱动。此时可通过查看设备管理界面，确认COM端口显示是否正常，如果提示有未知USB设置，则需要安装设备驱动。</p>
<p>串口USB转换芯片，一般有CP210X(套件自带)、PL2302、CH340这几种类型，用户可根据型号安装交付包 “Software_tools/USB_Serial_drivers” 目录下对应驱动，安装完毕后设备识别正常，如下图：</p>
<p><img alt="image-20220215140040544" src="../_images/image-20220215140040544.png" /><img alt="image-20220214144812977" src="../_images/image-20220214144812977.png" /></p>
</section>
<section id="id3">
<h3><span class="section-number">2.2.1.2. </span>终端控制软件<a class="headerlink" href="#id3" title="永久链接至标题"></a></h3>
<p>PC上常用的调试工具有Putty、SecureCRT、MobaXterm等，用户可根据自身使用习惯来选择。不同工具的端口配置流程基本类似，本文以SecureCRT为例，介绍新建串口连接过程。工具端口配置参数如下：</p>
<ul class="simple">
<li><p>波特率（Baud rate）：921600</p></li>
<li><p>数据位（Data bits）：8</p></li>
<li><p>奇偶校验（Parity）：None</p></li>
<li><p>停止位（Stop bits）：1</p></li>
<li><p>流控（Flow Control）：无</p></li>
</ul>
<ol class="simple">
<li><p>点击<strong>Quick Connect</strong>按钮，打开创建窗口<br /><img alt="image-20220309103341869" src="../_images/image-20220309103341869.png" /></p></li>
<li><p>在<strong>Quick Connect</strong>对话框中，选择<strong>Protocol</strong>为 <strong>Serial</strong>，选择<strong>Port</strong>到对应的COM口，例如<strong>COM7</strong>， 然后按照上文的参数进行配置<br /><img alt="image-20220215153207781" src="../_images/image-20220215153207781.png" /></p></li>
<li><p>点击<strong>Quick Connect</strong>对话框的<strong>Connect</strong>按钮完成连接<br /><img alt="image-20220215153135685" src="../_images/image-20220215153135685.png" /></p></li>
<li><p>输入用户名<strong>root</strong>即可登录设备</p></li>
</ol>
</section>
</section>
<section id="id4">
<h2><span class="section-number">2.2.2. </span>网口调试<a class="headerlink" href="#id4" title="永久链接至标题"></a></h2>
<p>开发板支持一路千兆以太网口，因此用户可通过网络远程登录设备，实现功能调试。开发板默认支持Telnet、SSH2两种通信协议。</p>
<p>对于网络接入方式，有PC直连、局域网接入两种选择。由于开发板默认不支持DHCP功能，因此对于局域网接入场景，用户需要确认网络是否可以支持静态ip配置。为避免网络环境造成的额外干扰，本文推荐用户优先使用PC直连方式。</p>
<section id="id5">
<h3><span class="section-number">2.2.2.1. </span>网络配置<a class="headerlink" href="#id5" title="永久链接至标题"></a></h3>
<p>为保证正常的网络通信，用户需要确认开发板、PC机网络配置可以满足如下要求：</p>
<ol class="simple">
<li><p>两者的IP地址前三段相同，例如开发板：192.168.1.10、PC机：192.168.1.11</p></li>
<li><p>两者的子网掩码、网关保持一致</p></li>
<li><p>PC机网络防火墙处于关闭状态</p></li>
</ol>
<p>如用户需要确认开发板网络配置状态，可以使用串口登录设备，然后通过ifconfig命令查询，开发板默认的网络配置如下：</p>
<ul class="simple">
<li><p>IP地址：192.168.1.10</p></li>
<li><p>掩码：255.255.255.0</p></li>
<li><p>网关：192.168.1.1</p></li>
</ul>
<p>确认开发板网络配置后，可按照本章节开头的网络配置要求对PC的网络进行参数配置，配置步骤为：</p>
<ol class="simple">
<li><p>在<strong>网络连接</strong>中找到对应的以太网设备并双击打开。</p></li>
<li><p>找到<strong>Internet协议版本4</strong>选项并双击打开。</p></li>
<li><p>在下图红框位置填入对应的网络参数，然后点击确定。<br /><img alt="image-ETH-ipconfig" src="../_images/image-ETH-ipconfig.png" /></p></li>
</ol>
<p>网络配置完成后，需要确认开发板、PC机是否可以双向ping通，如ping不通需要按照网络配置要求检测配置过程是否有误。</p>
</section>
<section id="id6">
<h3><span class="section-number">2.2.2.2. </span>终端软件配置<a class="headerlink" href="#id6" title="永久链接至标题"></a></h3>
<p>PC上常用的调试工具有Putty、SecureCRT、MobaXterm等，用户可根据自身使用习惯来选择。不同工具的端口配置流程基本类似，本文以SecureCRT为例，介绍新建网络连接过程。</p>
<ol class="simple">
<li><p>点击 Quick Connect 按钮，选择<strong>Protocol</strong>为<strong>Telnet or SSH2</strong></p></li>
<li><p>填写<strong>hostname</strong>为<strong>开发板IP地址</strong>, SSH2方式需要额外填写<strong>Username</strong>为<strong>root</strong><br /><img alt="image-ETH-Telnet" src="../_images/image-ETH-Telnet.png" />      <img alt="image-ETH-SSH2" src="../_images/image-ETH-SSH2.png" /></p></li>
<li><p>其他配置保持默认并点击<strong>Connect</strong>按钮完成创建</p></li>
<li><p>创建连接，并输入用户名<strong>root</strong>完成登录<br /><img alt="image-20220309104018190" src="../_images/image-20220309104018190.png" /></p></li>
</ol>
</section>
</section>
<section id="usb">
<h2><span class="section-number">2.2.3. </span>USB口调试<a class="headerlink" href="#usb" title="永久链接至标题"></a></h2>
<p>开发板提供一路Micro USB 2.0，其模式固定为USB Device，可用于adb、fastboot、UVC、RNDIS等多种USB应用场景。需要注意的是，使用Micro USB接口时，禁止在USB Type A口上插入任何设备，否则会造成功能异常。接口位置如下图所示：</p>
<p><img alt="image-USB-MicroUSB" src="../_images/image-USB-MicroUSB.png" /></p>
<section id="adb-fastboot">
<h3><span class="section-number">2.2.3.1. </span>安装 adb 和 fastboot 命令<a class="headerlink" href="#adb-fastboot" title="永久链接至标题"></a></h3>
<p>fastboot命令工具包：Software_tools/USB_adb_drivers/fastboot.tar.gz</p>
<p>adb命令工具包：Software_tools/USB_adb_drivers/platform-tools_r30.0.5-windows.zip</p>
<p>选择一个不带 <strong>空格、中文、特殊字符</strong> 的文件夹解压以上两个工具包，例如解压到 D:/usb_adb_tools</p>
<p><img alt="image-20220425194733026" src="../_images/image-20220425194733026.png" /></p>
<p>打开windows系统的高级环境配置，把这两个工具包的路径添加到环境变量中。</p>
<p><img alt="image-20220425195125259" src="../_images/image-20220425195125259.png" /></p>
</section>
<section id="id7">
<h3><span class="section-number">2.2.3.2. </span>USB 驱动安装<a class="headerlink" href="#id7" title="永久链接至标题"></a></h3>
<p>在使用到fastboot功能前，比如使用fastboot升级固件，在终端程序上执行fastboot命令，需要确认PC是否安装了fastboot驱动。</p>
<p>你可在开发板控制台中输入<strong>reboot fastboot</strong>，设备会自动重启并进入fastboot模式，串口log如下：</p>
<p><img alt="image-USB-fastboot" src="../_images/image-USB-fastboot.png" /></p>
<p>如未安装驱动，设备管理器会提示未知设备，如下图：</p>
<p><img alt="image-20220214144850602" src="../_images/image-20220214144850602.png" /></p>
<p>此时，用户需要首先安装交付包提供的fastboot驱动程序，PC机才能正常识别fastboot端口，驱动程序路径<strong>Software_tools/USB_adb_drivers/android_hobot_winusb.zip</strong>。驱动安装步骤如下：</p>
<ol class="simple">
<li><p>解压 <strong>android_hobot_winusb.zip</strong> ，以管理员身份运行 <strong>5-runasadmin_register-CA-cer.cmd</strong> 完成驱动程序的注册</p></li>
<li><p>右键点击设备管理器中带问号的 <strong>USB download gadget</strong>，并选择解压出的驱动文件夹<strong>andriod_hobot</strong>，然后点击下一步，完成驱动安装<br /><img alt="image-USB-fastboot-driver" src="../_images/image-USB-fastboot-driver.png" /></p></li>
<li><p>驱动安装完成后，设备管理器会显示fastboot设备<strong>Android Device</strong>，如下图：<br /><img alt="image-20220309105416913" src="../_images/image-20220309105416913.png" /></p></li>
</ol>
</section>
<section id="adb">
<h3><span class="section-number">2.2.3.3. </span>ADB<a class="headerlink" href="#adb" title="永久链接至标题"></a></h3>
<p>开发板启动后会自动加载adbd服务，方便用户使用adb进行调试。将开发板Micro USB接入PC后，设备管理器会识别到开发板adb端口<strong>xj3</strong>，如下图：<br /><img alt="image-USB-xj3" src="../_images/image-USB-xj3.png" /></p>
<p>除了查看设备管理器端口，用户也可以通过<strong>adb devices</strong>命令确认PC机是否识别到adb设备，正常识别状态如下图：<br /><img alt="image-20220309121640583" src="../_images/image-20220309121640583.png" /></p>
<p>如未识别到adb设备，通常有两种可能性：1. 用户使用的Micro USB数据线不支持数据通信；2. 开发板未启动adbd服务。用户可按如下步骤进行排查：</p>
<ol class="simple">
<li><p>通过<strong>ps | grep adbd</strong>命令，确认adbd进程是否启动。</p></li>
<li><p>如果adbd进程未启动，使用命令<strong>service adbd start</strong>启动服务，启动log如下：<br /><img alt="image-USB-adbd" src="../_images/image-USB-adbd.png" /></p></li>
<li><p>如果adbd进程启动后PC机仍无法识别adb端口，则用户需要自行确认Micro USB数据线是否存在异常</p></li>
</ol>
</section>
<section id="fastboot">
<h3><span class="section-number">2.2.3.4. </span>fastboot<a class="headerlink" href="#fastboot" title="永久链接至标题"></a></h3>
<p>进入fastboot有两种方式：</p>
<ol class="simple">
<li><p>uboot中敲fastboot 0</p></li>
<li><p>Linux shell中敲reboot fastboot</p></li>
</ol>
<p>fastboot功能一般用来给开发板做固件升级：</p>
<p>最简便的是在PC的命令行程序使用如下命令:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fastboot</span> <span class="n">flash</span> <span class="mh">0x0</span> <span class="n">disk</span><span class="o">.</span><span class="n">img</span>            <span class="c1"># 整体镜像烧录</span>
</pre></div>
</div>
<p>烧录完后可以用fastboot reboot命令重启系统</p>
<p>其余也可按传统的分区方式进行烧录。</p>
<p>如:</p>
<p>fastboot flash uboot uboot.img      # 烧录uboot分区</p>
<p>fastboot flash boot boot.img          # 烧录boot分区</p>
<p>fastboot flash system system.img  # 烧录system分区</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="X3SDB_Setup.html" class="btn btn-neutral float-left" title="2.1. X3 SDB开发板说明" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="Firmware_Update.html" class="btn btn-neutral float-right" title="2.3. 镜像升级方法" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2022, Horizon Robotics.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用了 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a>开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>